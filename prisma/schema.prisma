// SQLite datasource for local development

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

generator client {
  provider = "prisma-client-js"
}

model Herb {
  id              Int      @id @default(autoincrement())
  name            String?  // keep optional for migration
  commonName      String?  // temporarily add for migration
  latinName       String?
  slug            String?
  description     String
  metaTitle       String?
  metaDescription String?
  heroImageUrl    String?
  cardImageUrl    String?
  galleryImages   Json?     // <-- Array of image URLs
  cautions        String?
  productFormulations Json?    // <-- Or use a related model if you want
  references      Json?
  indications     Json?     // <-- Change to string array
  traditionalUses Json?
}

model Symptom {
  id          Int      @id @default(autoincrement())
  slug        String   @unique
  title       String
  description String?
  // herbs       Herb[]      @relation("HerbSymptoms")
  // supplements Supplement[] @relation("SymptomSupplements")
  // indicatedHerbs Herb[]   @relation("HerbIndications")
}

model Supplement {
  id              Int      @id @default(autoincrement())
  name            String
  slug            String?
  description     String
  metaTitle       String?
  metaDescription String?
  heroImageUrl    String?
  cardImageUrl    String?
  galleryImages   Json?
  cautions        String?
  productFormulations Json?
  references      Json?
  tags            Json?     // <-- Add this line
}

model BlogPage {
  id         Int      @id @default(autoincrement())
  title      String
  fileUrl    String   // URL or path to the uploaded file
  uploadDate DateTime @default(now())
  adminNote  String?
}

model QualitySpecification {
  id                   Int      @id @default(autoincrement())
  herbSlug             String
  herbName             String
  productType          String
  requiredTerms        Json
  preferredTerms       Json
  avoidTerms           Json
  standardization      Json?
  alcoholSpecs         Json?
  dosageSpecs          Json?
  priceRange           Json
  ratingThreshold      Float
  reviewCountThreshold Int
  brandPreferences     Json?
  brandAvoid           Json?
} 